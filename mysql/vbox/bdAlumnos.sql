DROP DATABASE IF EXISTS BDAlumnos;
CREATE DATABASE IF NOT EXISTS BDAlumnos;
USE BDAlumnos;
CREATE TABLE `alumnos` (
  `id_alumno` int auto_increment NOT NULL,
  `nombre` varchar(20) NOT NULL,
  `apellidos` varchar(20) NOT NULL,
 CONSTRAINT PK_ALUMNOS PRIMARY KEY (`id_alumno`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
CREATE TABLE `ciclos` (
  `id_ciclo` int(11) auto_increment NOT NULL,
  `abreviatura` varchar(5) UNIQUE,
  `nombre` varchar(100) ,
  CONSTRAINT PK_CICLOS PRIMARY KEY (`id_ciclo`)
) ENGINE=InnoDB;
CREATE TABLE `modulos` (
  `id_modulo` int auto_increment NOT NULL,
  `id_ciclo` int NOT NULL,
  `curso` int NOT NULL,
  `nombre` varchar(100) NOT NULL,
  CONSTRAINT PK_MODULOS PRIMARY KEY (`id_modulo`,`id_ciclo`),
  CONSTRAINT `fk_ciclo_modulos` FOREIGN KEY (`id_ciclo`) REFERENCES `ciclos` (`id_ciclo`)
) ENGINE=InnoDB;
CREATE TABLE `alumnomodulo` (
  `idalumno` int NOT NULL,
  `idmodulo` int NOT NULL,
  `idciclo` int NOT NULL,
  `notafinal` numeric(3,1),
  CONSTRAINT PK_ALUMNOMODULO PRIMARY KEY (idalumno,idmodulo,idciclo),
  CONSTRAINT fk_alumno_alumnoModulo FOREIGN KEY (`idalumno`) REFERENCES `alumnos` (`id_alumno`),
  CONSTRAINT fk_ciclo_alumnoModulo FOREIGN KEY (`idmodulo`, `idciclo`) REFERENCES `modulos` (`id_modulo`, `id_ciclo`)
) ENGINE=InnoDB;
CREATE TABLE `profesores` (
  `ID_PROFESOR` int(11) auto_increment NOT NULL,
  `NOMBRE` varchar(30) DEFAULT NULL,
  `APELLIDOS` varchar(50) DEFAULT NULL,
  CONSTRAINT PK_PROFESORES PRIMARY KEY (`ID_PROFESOR`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
CREATE TABLE `profesoresmodulos` (
  `ID_PROFESOR` int(11) NOT NULL,
  `ID_MODULO` int(11) NOT NULL,
  `ID_CICLO` int(11) NOT NULL,
  CONSTRAINT PK_PROFESORESMODULOS PRIMARY KEY (`ID_PROFESOR`,`ID_MODULO`,`ID_CICLO`),
  CONSTRAINT `fk_ciclo_profesoresmodulos` FOREIGN KEY (ID_MODULO ,`ID_CICLO`) REFERENCES `modulos` (id_modulo, id_ciclo),
  CONSTRAINT `fk_profesor_profesoresmodulos` FOREIGN KEY (`ID_PROFESOR`) REFERENCES `profesores` (`ID_PROFESOR`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `alumnos` VALUES (1,'Kelsey','Sutton'),(2,'Cassidy','Gray'),(3,'Thor','Fields'),(4,'Mollie','Rasmussen'),(5,'Aimee','Chen'),(6,'Maxine','Washington'),(7,'Martha','Henry'),(8,'Miriam','Bradshaw'),(9,'Gavin','Sweet'),(10,'Noelle','Bernard'),(11,'Kennedy','Grimes'),(12,'Amy','Boyer'),(13,'Sandra','Franklin'),(14,'Len','Cleveland'),(15,'Brendan','Albert'),(16,'Cairo','Witt'),(17,'Michelle','Figueroa'),(18,'Quinn','Dyer'),(19,'Emmanuel','Cortez'),(20,'Driscoll','Gallagher'),(21,'Ann','Hewitt'),(22,'Cheyenne','Rojas'),(23,'Aaron','Hansen'),(24,'Erin','Carroll'),(25,'Nash','Parker'),(26,'Fritz','Crosby'),(27,'Rafael','Maynard'),(28,'Denton','Mathews'),(29,'Blaine','Robles'),(30,'Yetta','Key'),(31,'Tiger','Gordon'),(32,'Tyrone','Banks'),(33,'Rhea','Chaney'),(34,'Ursa','Gonzales'),(35,'Herman','Salas'),(36,'Sydnee','Floyd'),(37,'Myra','Battle'),(38,'Kareem','Malone'),(39,'Gisela','Duran'),(40,'Rinah','Holt'),(41,'Orla','Simpson'),(42,'Keely','Burns'),(43,'Aquila','George'),(44,'Tana','Mullen'),(45,'Caryn','Mccoy'),(46,'Sonia','Velazquez'),(47,'Amal','Tyson'),(48,'Justina','Holland'),(49,'Leonard','Harding'),(50,'Rhea','Landry'),(51,'Herrod','Wells'),(52,'Candace','Mcgee'),(53,'Ezra','England'),(54,'Rana','Mcleod'),(55,'Vaughan','Kane'),(56,'Lilah','Vasquez'),(57,'Hall','Macdonald'),(58,'Phillip','Cooper'),(59,'Zahir','Chambers'),(60,'Farrah','Thomas'),(61,'Haviva','Silva'),(62,'Wilma','White'),(63,'Thomas','Erickson'),(64,'Acton','Stephens'),(65,'Lamar','Griffith'),(66,'Amena','Cortez'),(67,'Hakeem','Norris'),(68,'Sophia','Perez'),(69,'Mari','Montoya'),(70,'Ori','Kinney'),(71,'Fulton','Lindsey'),(72,'Geraldine','Cruz'),(73,'Molly','Edwards'),(74,'Beverly','Meadows'),(75,'Deirdre','Donaldson'),(76,'Isaiah','Potts'),(77,'Mia','Morgan'),(78,'Allegra','Rosa'),(79,'Owen','Mayer'),(80,'Randall','Whitehead'),(81,'Natalie','Richmond'),(82,'Ivory','Doyle'),(83,'Allistair','Cameron'),(84,'Ann','George'),(85,'Janna','Erickson'),(86,'Aphrodite','Coffey'),(87,'Iona','Clemons'),(88,'Dylan','Sullivan'),(89,'Jordan','Nunez'),(90,'Winifred','Santiago'),(91,'Emi','Ellis'),(92,'Chantale','Farmer'),(93,'Len','Odom'),(94,'Thomas','Gamble'),(95,'Jonas','Payne'),(96,'Kimberly','Weeks'),(97,'Autumn','Tyler'),(98,'Griffin','Landry'),(99,'Rina','Campos'),(100,'Gage','Vaughan');

INSERT INTO `ciclos` VALUES (1,'DAW','DESARROLLO DE APLICACIONES WEB'),(2,'DAM','DESARROLLO DE APLICACIONES MULTIPLATAFORMA'),(3,'ASIR','ADMINISTRACION DE SISTEMAS INFORMATICOS Y EN RED');
INSERT INTO `modulos` VALUES (1,1,1,'PROGRAMACION'),(2,1,1,'LENGUAJE DE MARCAS'),(3,1,1,'ENTORNOS'),(4,1,1,'BBDD'),(5,1,1,'FOL'),(6,1,1,'SISTEMAS OPERATIVOS'),(7,1,2,'EIE'),(8,1,2,'DESPLIEGUE DE APLICACIONES'),(9,1,2,'LENGUAJE SERVIDOR'),(10,1,2,'DISE¥O INTERFACES'),(11,1,2,'LENGUAJE CLIENTE'),(12,1,2,'INGLES'),(13,2,1,'PROGRAMACION'),(14,2,1,'LENGUAJE DE MARCAS'),(15,2,1,'ENTORNOS'),(16,2,1,'FOL'),(17,2,1,'BBDD'),(18,1,1,'SISTEMAS OPERATIVOS'),(19,2,2,'EIE'),(20,2,2,'ACCESO A DATOS'),(21,2,2,'PROGRAMACION MOVILES'),(22,2,2,'DISE¥O INTERFACES'),(23,2,2,'SISTEMAS GESTORES'),(24,2,2,'PROCESOS'),(25,2,2,'INGLES'),(26,3,1,'LENGUAJE DE MARCAS'),(27,3,1,'BBDD'),(28,3,1,'FOL'),(29,3,1,'INTRODUCCION SISTEMAS OPERATIVOS'),(30,3,2,'EIE'),(31,3,2,'ADMINISTRACION SO'),(32,3,2,'SERVICIOS'),(33,3,2,'SEGURIDAD'),(34,3,2,'IMPLANTACION WEB'),(35,3,1,'REDES'),(36,3,2,'INGLES'),(37,3,2,'ADMINISTRACION BD');
INSERT INTO `modulos` VALUES (38,1,2,'PROYECTO'),(38,2,2,'PROYECTO'),(38,3,2,'PROYECTO');
INSERT INTO `alumnomodulo` VALUES (1,2,1,1),(1,4,1,0),(1,7,1,1),(1,10,1,10),(2,1,1,1),(2,7,1,5),(2,10,1,0),(3,3,1,1),(3,9,1,0),(3,11,1,2),(3,12,1,1),(4,1,1,0),(4,3,1,9),(4,5,1,2),(4,6,1,10),(4,9,1,5),(4,10,1,9),(4,12,1,4),(5,1,1,8),(5,2,1,8),(5,3,1,5),(5,4,1,8),(5,7,1,5),(5,10,1,4),(6,1,1,3),(6,5,1,2),(6,6,1,6),(6,7,1,1),(6,8,1,0),(6,9,1,5),(6,12,1,10),(7,5,1,7),(7,6,1,8),(7,9,1,3),(7,10,1,9),(7,11,1,3),(8,1,1,9),(8,2,1,6),(8,3,1,10),(8,6,1,8),(8,7,1,0),(8,8,1,9),(8,10,1,1),(9,3,1,7),(9,6,1,8),(10,1,1,2),(10,2,1,3),(10,5,1,5),(10,9,1,4),(10,10,1,9),(10,12,1,3),(11,4,1,10),(11,11,1,9),(12,6,1,8),(12,7,1,7),(12,9,1,9),(12,12,1,9),(13,1,1,10),(13,3,1,1),(13,5,1,1),(13,6,1,9),(13,7,1,2),(13,9,1,6),(13,12,1,8),(14,2,1,3),(14,4,1,2),(14,5,1,5),(14,6,1,10),(14,7,1,5),(14,9,1,1),(14,11,1,9),(15,1,1,1),(15,3,1,7),(15,7,1,7),(16,3,1,8),(16,4,1,2),(16,6,1,0),(16,7,1,2),(16,9,1,4),(16,12,1,1),(17,4,1,0),(17,5,1,3),(17,7,1,0),(17,8,1,2),(17,10,1,10),(17,11,1,9),(17,12,1,3),(18,1,1,4),(18,4,1,6),(18,5,1,2),(18,6,1,2),(18,7,1,2),(18,8,1,5),(18,9,1,3),(19,3,1,8),(19,4,1,5),(19,6,1,7),(19,8,1,7),(19,9,1,8),(19,10,1,8),(19,11,1,4),(19,12,1,0),(20,1,1,0),(20,5,1,7),(20,6,1,9),(20,12,1,5),(21,5,1,8),(21,9,1,10),(21,12,1,9),(22,1,1,6),(22,3,1,3),(22,10,1,7),(23,2,1,0),(23,4,1,4),(23,5,1,5),(23,6,1,2),(23,8,1,4),(23,10,1,10),(24,1,1,7),(24,3,1,1),(24,4,1,7),(24,5,1,6),(24,8,1,8),(25,1,1,1),(25,4,1,10),(25,6,1,2),(25,7,1,0),(25,9,1,0),(25,10,1,0),(25,11,1,4),(25,12,1,0),(26,3,1,1),(26,4,1,2),(26,5,1,4),(26,9,1,6),(27,2,1,8),(27,4,1,4),(27,5,1,5),(27,11,1,5),(27,12,1,10),(28,3,1,10),(28,7,1,1),(28,9,1,2),(28,11,1,7),(29,1,1,9),(29,9,1,1),(29,11,1,9),(29,12,1,6),(30,4,1,9),(30,5,1,3),(30,6,1,8),(30,8,1,10),(30,11,1,5),(30,12,1,7),(31,2,1,1),(31,3,1,9),(31,5,1,1),(31,6,1,5),(31,10,1,10),(32,5,1,10),(32,6,1,1),(32,11,1,9),(32,12,1,4),(34,13,2,1),(34,14,2,6),(34,17,2,9),(34,25,2,3),(35,13,2,5),(35,16,2,3),(35,19,2,1),(35,22,2,2),(35,23,2,7),(35,32,3,10),(35,36,3,10),(35,37,3,1),(36,15,2,7),(36,17,2,2),(36,20,2,10),(36,22,2,5),(36,25,2,4),(36,32,3,4),(36,34,3,6),(36,35,3,4),(37,14,2,8),(37,15,2,9),(37,17,2,6),(37,19,2,0),(37,21,2,3),(37,22,2,8),(37,23,2,5),(37,26,3,4),(37,31,3,9),(38,15,2,0),(38,17,2,5),(38,19,2,2),(38,20,2,2),(38,24,2,5),(38,25,2,3),(38,26,3,3),(38,30,3,7),(38,35,3,2),(39,13,2,9),(39,19,2,6),(39,20,2,6),(39,21,2,8),(39,24,2,0),(39,28,3,6),(39,36,3,4),(40,14,2,9),(40,15,2,8),(40,16,2,6),(40,19,2,9),(40,21,2,4),(40,23,2,8),(40,25,2,7),(40,27,3,9),(40,36,3,6),(40,37,3,6),(41,13,2,4),(41,15,2,7),(41,16,2,0),(41,17,2,3),(41,21,2,5),(41,22,2,9),(41,23,2,9),(41,24,2,5),(41,25,2,1),(41,26,3,10),(41,35,3,0),(42,14,2,5),(42,16,2,6),(42,17,2,5),(42,20,2,0),(42,22,2,5),(42,23,2,4),(42,24,2,5),(42,25,2,3),(42,29,3,6),(42,31,3,4),(42,35,3,1),(43,15,2,2),(43,16,2,10),(43,17,2,10),(43,19,2,10),(43,20,2,3),(43,22,2,0),(43,23,2,7),(43,24,2,10),(43,25,2,3),(43,33,3,10),(44,13,2,7),(44,14,2,4),(44,15,2,5),(44,16,2,10),(44,17,2,3),(44,19,2,0),(44,20,2,4),(44,21,2,10),(44,22,2,6),(44,24,2,1),(44,25,2,1),(44,29,3,9),(44,30,3,10),(45,16,2,0),(45,17,2,8),(45,23,2,10),(45,28,3,9),(45,36,3,0),(45,37,3,7),(46,14,2,3),(46,15,2,2),(46,17,2,1),(46,19,2,4),(46,21,2,0),(46,22,2,4),(46,26,3,6),(46,27,3,8),(46,30,3,4),(46,32,3,0),(47,13,2,8),(47,15,2,2),(47,23,2,2),(47,24,2,3),(47,29,3,6),(47,30,3,7),(47,34,3,0),(47,35,3,4),(48,13,2,9),(48,14,2,2),(48,15,2,1),(48,20,2,1),(48,22,2,6),(48,24,2,7),(48,29,3,10),(49,15,2,9),(49,16,2,6),(49,17,2,3),(49,21,2,9),(49,23,2,3),(49,25,2,2),(49,28,3,3),(49,32,3,1),(49,36,3,10),(50,13,2,2),(50,15,2,6),(50,16,2,1),(50,21,2,10),(50,22,2,7),(50,23,2,8),(50,25,2,8),(50,27,3,9),(50,32,3,6),(51,14,2,4),(51,15,2,3),(51,17,2,5),(51,20,2,7),(51,23,2,4),(51,24,2,8),(51,28,3,6),(51,30,3,3),(51,31,3,6),(52,14,2,5),(52,19,2,3),(52,20,2,10),(52,21,2,2),(52,24,2,5),(52,28,3,8),(52,29,3,4),(52,32,3,8),(52,35,3,8),(53,13,2,8),(53,16,2,2),(53,17,2,10),(53,19,2,7),(53,22,2,1),(53,25,2,1),(54,14,2,7),(54,15,2,9),(54,16,2,3),(54,17,2,6),(54,19,2,9),(54,21,2,1),(54,22,2,9),(54,27,3,4),(54,33,3,4),(54,36,3,6),(55,13,2,7),(55,14,2,10),(55,15,2,10),(55,16,2,5),(55,17,2,1),(55,20,2,10),(55,23,2,2),(55,27,3,6),(55,30,3,7),(55,32,3,5),(55,33,3,7),(55,37,3,6),(56,15,2,6),(56,16,2,8),(56,17,2,1),(56,19,2,6),(56,20,2,8),(56,24,2,3),(56,25,2,10),(56,27,3,5),(56,33,3,2),(57,17,2,6),(57,19,2,5),(57,21,2,9),(57,24,2,9),(57,25,2,5),(57,30,3,5),(57,31,3,8),(57,32,3,6),(57,33,3,6),(57,34,3,5),(57,35,3,0),(57,37,3,5),(58,17,2,0),(58,19,2,2),(58,20,2,9),(58,22,2,1),(58,28,3,4),(58,30,3,9),(58,34,3,4),(59,14,2,2),(59,15,2,0),(59,19,2,1),(59,20,2,5),(59,23,2,1),(59,24,2,5),(59,25,2,9),(59,27,3,1),(59,28,3,9),(59,33,3,8),(59,34,3,8),(60,14,2,3),(60,15,2,2),(60,17,2,6),(60,19,2,1),(60,21,2,0),(60,22,2,3),(60,36,3,5),(61,19,2,6),(61,21,2,4),(61,23,2,4),(61,25,2,8),(61,26,3,8),(61,30,3,5),(61,31,3,6),(61,34,3,2),(61,35,3,8),(62,13,2,3),(62,17,2,5),(62,19,2,0),(62,20,2,3),(62,23,2,5),(62,25,2,7),(62,26,3,2),(62,28,3,3),(62,34,3,8),(63,14,2,7),(63,15,2,5),(63,22,2,2),(63,32,3,5),(64,17,2,4),(64,20,2,1),(64,22,2,1),(64,23,2,4),(64,24,2,6),(64,25,2,7),(64,27,3,8),(64,34,3,0),(64,37,3,5),(65,13,2,6),(65,15,2,1),(65,19,2,3),(65,20,2,4),(65,21,2,3),(65,25,2,4),(65,29,3,2),(65,32,3,3),(65,35,3,1),(65,37,3,3),(66,15,2,9),(66,20,2,10),(66,22,2,9),(66,23,2,0),(66,24,2,4),(67,32,3,5),(68,28,3,9),(68,30,3,10),(68,31,3,5),(69,27,3,2),(69,30,3,4),(70,29,3,0),(70,33,3,10),(70,36,3,9),(71,29,3,4),(71,34,3,0),(72,26,3,4),(72,37,3,5),(73,31,3,8),(73,32,3,2),(73,34,3,2),(73,35,3,2),(73,37,3,6),(74,26,3,10),(74,32,3,3),(74,34,3,10),(75,26,3,6),(75,27,3,9),(75,32,3,9),(75,37,3,10),(77,37,3,8),(78,29,3,5),(78,32,3,2),(79,34,3,2),(79,35,3,1),(80,30,3,7),(80,32,3,2),(80,33,3,9),(80,35,3,9),(80,37,3,9),(81,28,3,7),(81,29,3,10),(81,30,3,1),(81,34,3,7),(82,29,3,0),(83,28,3,6),(83,30,3,3),(83,33,3,0),(83,37,3,8),(84,26,3,0),(84,28,3,5),(84,30,3,1),(84,33,3,9),(84,35,3,9),(84,36,3,5),(85,27,3,7),(86,28,3,2),(86,29,3,9),(88,26,3,9),(88,29,3,2),(88,34,3,5),(88,35,3,1),(88,37,3,3),(89,27,3,8),(89,30,3,1),(90,36,3,6),(91,31,3,0),(91,37,3,4),(92,29,3,8),(92,34,3,0),(92,37,3,0),(93,27,3,4),(93,28,3,2),(93,29,3,9),(93,34,3,4),(93,35,3,6),(93,37,3,4),(94,36,3,4),(95,35,3,0),(95,36,3,4),(96,35,3,9),(96,36,3,9),(97,31,3,9),(98,26,3,7),(98,30,3,2),(98,33,3,9),(98,35,3,5),(98,36,3,8),(99,30,3,3),(99,32,3,1),(99,33,3,2),(100,34,3,5);

INSERT INTO `profesores` VALUES (1,'MARIA','RUIZ'),(2,'PACO','RUEDA'),(3,'LUIS','SORIA'),(4,'CATALINA','DEL AMOR'),(5,'LORENZO','RAILES'),(6,'INES','CANTUDO'),(7,'NOELIA','CAMPOS'),(8,'PABLO','TALLIN'),(9,'AITOR','MUNITZ'),(10,'CAYETANA','DE LAHOZ'),(11,'ADELA','CAMPOS'),(12,'PEDRO','MORENO'),(13,'BERTA','PUYOL'),(14,'JAVIER','ROJO');

INSERT INTO `profesoresmodulos` VALUES (2,1,1),(6,2,1),(7,2,1),(4,3,1),(9,4,1),(10,5,1),(13,6,1),(5,7,1),(3,8,1),(1,9,1),(8,10,1),(1,11,1),(7,12,1),(6,13,2),(11,14,2),(5,15,2),(9,15,2),(12,15,2),(13,15,2),(11,16,2),(8,17,2),(11,17,2),(13,17,2),(11,19,2),(10,20,2),(5,21,2),(7,22,2),(8,23,2),(5,24,2),(13,24,2),(5,25,2),(2,26,3),(10,26,3),(14,26,3),(1,27,3),(2,27,3),(7,27,3),(9,27,3),(13,27,3),(11,28,3),(13,28,3),(7,29,3),(10,29,3),(13,29,3),(11,30,3),(2,31,3),(3,31,3),(7,32,3),(11,32,3),(6,33,3),(14,34,3),(9,35,3),(10,35,3),(13,35,3),(14,35,3),(8,36,3),(10,36,3),(13,36,3),(6,37,3),(8,37,3),(11,37,3);
